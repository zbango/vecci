name: Notify Discord on push

on: [push]

jobs:
  notify:
    runs-on: ubuntu-latest
    steps:
      - name: Send message to Discord
        uses: Ilshidur/action-discord@0.3.2
        env:
          DISCORD_WEBHOOK: ${{ secrets.DISCORD_WEBHOOK }}
        with:
          args: |
            🚀 **Nuevo Push Detectado!**

            📦 **Repositorio:** `${{ github.repository }}`
            ✍️ **Autor:** `${{ github.actor }}`
            🌿 **Rama:** `${{ github.ref_name }}`

            📝 **Mensaje del Commit:**
            ```
            ${{ github.event.head_commit.message }}
            ```

            🔗 [Ver Cambios](https://github.com/${{ github.repository }}/commit/${{ github.sha }})  
            📁 [Ir al Repositorio](https://github.com/${{ github.repository }})

            ---
            _Notificación automática de GitHub Actions_